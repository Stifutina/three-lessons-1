{"version":3,"file":"lesson13-D8MPICnM.js","sources":["../../src/scripts/lesson13.js"],"sourcesContent":["import * as THREE from 'three'\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js'\nimport GUI from 'lil-gui'\n\n/**\n * Particle is a plane composed with 2 triangles\n * and this mesh always rotated on camera\n * we will need BufferGeometry and PointsMaterial\n * and Points instance\n */\n\n\n\n/**\n * Base\n */\n// Debug\nconst gui = new GUI()\n\n// Canvas\nconst canvas = document.querySelector('canvas.webgl')\n\n// Scene\nconst scene = new THREE.Scene()\n\n/**\n * Textures\n */\nconst textureLoader = new THREE.TextureLoader()\n\n/**\n * Generate Particles:\n */\n//Geometry\nconst particlesGeometry = new THREE.BufferGeometry();\nconst count = 500;\n\nconst positions = new Float32Array(count * 3);\n\nfor (let i = 0; i < count * 3; i++) {\n    positions[i] = (Math.random() - 0.5) * 10;\n}\n\n// particles positions need to be stored in a buffer attribute\n// particles \nparticlesGeometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));\n\n// Material\nconst particlesMaterial = new THREE.PointsMaterial({\n    size: 0.02,\n    color: 0xff88ff,\n    sizeAttenuation: true, // create perspective effect\n    transparent: true,\n});\n// These textures are resized versions of the pack provided by Kenney and you can find \n// the full pack here: https://www.kenney.nl/assets/particle-pack. But you can also create your own.\nparticlesMaterial.alphaMap = textureLoader.load('/textures/particles/1.png');\nparticlesMaterial.alphaTest = 0.001;\nparticlesMaterial.map = textureLoader.load('/textures/particles/1.png');\n\n// Points\nconst particles = new THREE.Points(particlesGeometry, particlesMaterial);\n\nscene.add(particles);\n\n\n/**\n * Sizes\n */\nconst sizes = {\n    width: window.innerWidth,\n    height: window.innerHeight\n}\n\nwindow.addEventListener('resize', () =>\n{\n    // Update sizes\n    sizes.width = window.innerWidth\n    sizes.height = window.innerHeight\n\n    // Update camera\n    camera.aspect = sizes.width / sizes.height\n    camera.updateProjectionMatrix()\n\n    // Update renderer\n    renderer.setSize(sizes.width, sizes.height)\n    renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2))\n})\n\n/**\n * Camera\n */\n// Base camera\nconst camera = new THREE.PerspectiveCamera(75, sizes.width / sizes.height, 0.1, 100)\ncamera.position.z = 3\nscene.add(camera)\n\n// Controls\nconst controls = new OrbitControls(camera, canvas)\ncontrols.enableDamping = true\n\n/**\n * Renderer\n */\nconst renderer = new THREE.WebGLRenderer({\n    canvas: canvas\n})\nrenderer.setSize(sizes.width, sizes.height)\nrenderer.setPixelRatio(Math.min(window.devicePixelRatio, 2))\n\n/**\n * Animate\n */\nconst clock = new THREE.Clock()\n\nconst tick = () =>\n{\n    const elapsedTime = clock.getElapsedTime()\n\n    // Update controls\n    controls.update()\n\n    // Render\n    renderer.render(scene, camera)\n\n    // Call tick again on the next frame\n    window.requestAnimationFrame(tick)\n}\n\ntick()"],"names":["GUI","canvas","scene","THREE.Scene","textureLoader","THREE.TextureLoader","particlesGeometry","THREE.BufferGeometry","count","positions","i","THREE.BufferAttribute","particlesMaterial","THREE.PointsMaterial","particles","THREE.Points","sizes","camera","renderer","THREE.PerspectiveCamera","controls","OrbitControls","THREE.WebGLRenderer","clock","THREE.Clock","tick"],"mappings":"8NAiBY,IAAIA,EAGhB,MAAMC,EAAS,SAAS,cAAc,cAAc,EAG9CC,EAAQ,IAAIC,EAKZC,EAAgB,IAAIC,EAMpBC,EAAoB,IAAIC,EACxBC,EAAQ,IAERC,EAAY,IAAI,aAAaD,EAAQ,CAAC,EAE5C,QAASE,EAAI,EAAGA,EAAIF,EAAQ,EAAGE,IAC3BD,EAAUC,CAAC,GAAK,KAAK,OAAM,EAAK,IAAO,GAK3CJ,EAAkB,aAAa,WAAY,IAAIK,EAAsBF,EAAW,CAAC,CAAC,EAGlF,MAAMG,EAAoB,IAAIC,EAAqB,CAC/C,KAAM,IACN,MAAO,SACP,gBAAiB,GACjB,YAAa,EACjB,CAAC,EAGDD,EAAkB,SAAWR,EAAc,KAAK,2BAA2B,EAC3EQ,EAAkB,UAAY,KAC9BA,EAAkB,IAAMR,EAAc,KAAK,2BAA2B,EAGtE,MAAMU,EAAY,IAAIC,EAAaT,EAAmBM,CAAiB,EAEvEV,EAAM,IAAIY,CAAS,EAMnB,MAAME,EAAQ,CACV,MAAO,OAAO,WACd,OAAQ,OAAO,WACnB,EAEA,OAAO,iBAAiB,SAAU,IAClC,CAEIA,EAAM,MAAQ,OAAO,WACrBA,EAAM,OAAS,OAAO,YAGtBC,EAAO,OAASD,EAAM,MAAQA,EAAM,OACpCC,EAAO,uBAAsB,EAG7BC,EAAS,QAAQF,EAAM,MAAOA,EAAM,MAAM,EAC1CE,EAAS,cAAc,KAAK,IAAI,OAAO,iBAAkB,CAAC,CAAC,CAC/D,CAAC,EAMD,MAAMD,EAAS,IAAIE,EAAwB,GAAIH,EAAM,MAAQA,EAAM,OAAQ,GAAK,GAAG,EACnFC,EAAO,SAAS,EAAI,EACpBf,EAAM,IAAIe,CAAM,EAGhB,MAAMG,EAAW,IAAIC,EAAcJ,EAAQhB,CAAM,EACjDmB,EAAS,cAAgB,GAKzB,MAAMF,EAAW,IAAII,EAAoB,CACrC,OAAQrB,CACZ,CAAC,EACDiB,EAAS,QAAQF,EAAM,MAAOA,EAAM,MAAM,EAC1CE,EAAS,cAAc,KAAK,IAAI,OAAO,iBAAkB,CAAC,CAAC,EAK3D,MAAMK,EAAQ,IAAIC,EAEZC,EAAO,IACb,CACwBF,EAAM,eAAc,EAGxCH,EAAS,OAAM,EAGfF,EAAS,OAAOhB,EAAOe,CAAM,EAG7B,OAAO,sBAAsBQ,CAAI,CACrC,EAEAA,EAAI"}